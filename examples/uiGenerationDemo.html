<head>
    <script src="http://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
    <script src="http://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
    <script src="../build/RosSensorLib.js"></script>
    <script>
        var ros = new ROSLIB.Ros();

        ros.on('connection', function() {document.getElementById("connection_info").innerHTML = "Connected to webserver."});

        ros.on('error', function(error) { document.getElementById("connection_info").innerHTML = "Failed to connect to webserver."; });

        ros.on('close', function() { document.getElementById("connection_info").innerHTML = 'Connection to websocket server closed.'; });

        ros.connect('ws://localhost:9090');
    </script>
</head>
<body>
    <h1 id='connection_info'></h1>
    <div id="target" style="border-style: solid; width: 50%; height: 50%; position: relative;"></div>
    <script>
        // config object with sensor configuration
        const config = {
            phone_slider: {
                slider1: {
                    name: 'slider1',
                    x: 10,
                    y: 10,
                },
                slider2: {
                    name: 'slider2',
                    x: 10,
                    y: 20,
                },
                slider3: {
                    name: 'slider3',
                    x: 10,
                    y: 30,
                },
                slider4: {
                    name: 'slider4',
                    x: 10,
                    y: 40,
                },
            },
            phone_button: {
                buttonA: {
                    name: 'buttonA',
                    x: 50,
                    y: 10,
                },
                buttonB: {
                    name: 'buttonB',
                    x: 70,
                    y: 10,
                },
                buttonC: {
                    name: 'buttonC',
                    x: 50,
                    y: 20,
                },
                buttonD: {
                    name: 'buttonD',
                    x: 70,
                    y: 20,
                },
            },
            phone_text_input: {
                buttonA: {
                    name: 'textA',
                    x: 50,
                    y: 40,
                }
            }
        };

        const targetElement = document.getElementById('target');
        var sensorMap = SENSORLIB.readSensorsFromConfig(config, ros, targetElement);
    </script>
</body>